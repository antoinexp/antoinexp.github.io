(this["webpackJsonpcovid-simulator"]=this["webpackJsonpcovid-simulator"]||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),i=a.n(n),s=a(12),r=a.n(s),j=(a(39),a(13)),l=(a(40),a(8)),d=a(80),o=a(48),b=a(3),u=a(28),O=a.n(u),f=function(e){var t=Object(n.useRef)(null),a=e.config,i=Object(b.a)(e,["config"]),s=Object(n.useState)(),r=Object(l.a)(s,2),d=r[0],o=r[1];return Object(n.useEffect)((function(){d&&d.update()}),[a]),Object(n.useEffect)((function(){var e=t.current;o(new O.a(e,a))}),[]),Object(c.jsx)("canvas",Object(j.a)({ref:t},i))},h=a(79),x=a(81),m=a(76),g=a(78),p=a(87),v=Object(m.a)((function(e){return{root:{width:300},margin:{height:e.spacing(3)},control:{padding:e.spacing(2)}}})),w=[{value:.1,label:"0.1"},{value:1,label:"1.0"},{value:2,label:"2.0"},{value:3,label:"3.0"}];function y(e){return"R0=".concat(e)}var S=function(e){v();var t=e.setR0;Object(b.a)(e,["setR0"]);return Object(c.jsx)(o.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(g.a,{id:"discrete-slider-always",gutterBottom:!0,children:"R0"}),Object(c.jsx)(p.a,{min:.1,max:3,defaultValue:3,getAriaValueText:y,"aria-labelledby":"discrete-slider-always",step:.1,marks:w,onChange:function(e,a){t(a)},valueLabelDisplay:"on"})]})})},F=function(){return new Worker(a.p+"static/js/GameWorker.d51083a3.worker.js")};var I=function(e,t){var a=this;a.animationFrameId=0,a.start=function(){var c=0,n=Date.now(),i=n;return function s(){var r=Date.now(),j=r-i;j>=1e3/e&&(c++,t&&t({elapsed:r-n,frameId:c}),i=r-j%(1e3/e)),a.animationFrameId=window.requestAnimationFrame(s)}(),a},a.stop=function(){console.log(a.animationFrameId),window.cancelAnimationFrame(a.animationFrameId)}};function R(e){return{type:"line",data:{datasets:[{label:"Filled",data:[],fill:!0}]},options:{legend:{display:!1},title:{display:!0,text:e},scales:{xAxes:[{display:!0,type:"time"}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}}}var A=R("GDP");A.options.scales.yAxes[0].ticks={min:-20,max:0};var D=R("R0");D.options.scales.yAxes[0].ticks={min:0,max:4};var k={infected_cfg:R("Infected"),gdp_cfg:A,r0_cfg:D},_=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),i=a[0],s=a[1],r=Object(n.useState)(0),b=Object(l.a)(r,2),u=b[0],O=b[1],m=Object(n.useState)(3),g=Object(l.a)(m,2),p=g[0],v=g[1],w=Object(n.useState)(),y=Object(l.a)(w,2),R=y[0],A=y[1],D=Object(n.useState)(0),_=Object(l.a)(D,2),C=_[0],E=_[1];function M(e,t,a){var c=Object(j.a)({},e);c.data.datasets[0].data.push(a),t(c)}var P=Object(n.useState)(k.infected_cfg),G=Object(l.a)(P,2),L=G[0],T=G[1],B=Object(n.useState)(k.gdp_cfg),V=Object(l.a)(B,2),W=V[0],J=V[1],N=Object(n.useState)(k.r0_cfg),q=Object(l.a)(N,2),z=q[0],H=q[1];return Object(n.useEffect)((function(){var e=new F;return A(e),e.onmessage=function(e){var t=e.data.t,a=e.data.I,c=e.data.GDP,n=e.data.R0;s(Math.floor(e.data.D)),E(100*e.data.progress),O(c),M(L,T,{t:t,y:a}),M(W,J,{t:t,y:100*c}),M(z,H,{t:t,y:n})},new I(1,(function(t){e.postMessage("getdata")})).start().stop}),[]),Object(n.useEffect)((function(){R&&R.postMessage({R0:p,msg:"setR0"})}),[p]),Object(c.jsx)(h.a,{maxWidth:"sm",children:Object(c.jsxs)(d.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:3,children:[Object(c.jsx)(d.a,{item:!0,xs:12,children:Object(c.jsxs)(d.a,{container:!0,justify:"center",spacing:2,alignItems:"stretch",children:[Object(c.jsx)(d.a,{item:!0,children:Object(c.jsxs)(o.a,{children:["GDP: ",Math.round(100*u,2),"%"]})}),Object(c.jsx)(d.a,{item:!0,children:Object(c.jsxs)(o.a,{children:["Death Toll: ",i]})})]})}),Object(c.jsx)(d.a,{item:!0,children:Object(c.jsx)(o.a,{children:Object(c.jsx)(x.a,{variant:"determinate",value:C})})}),Object(c.jsx)(d.a,{item:!0,children:Object(c.jsx)(o.a,{children:Object(c.jsx)(f,{config:L,width:100,height:50})})}),Object(c.jsx)(d.a,{item:!0,children:Object(c.jsx)(o.a,{children:Object(c.jsx)(f,{config:W,width:100,height:50})})}),Object(c.jsx)(d.a,{item:!0,children:Object(c.jsx)(o.a,{children:Object(c.jsx)(f,{config:z,width:100,height:30})})}),Object(c.jsx)(d.a,{item:!0,children:Object(c.jsx)(S,{setR0:v})})]})})},C=a(84),E=a(85),M=a(83),P=a(82),G=a(86);function L(e){var t=e.children,a=e.window,n=Object(P.a)({target:a?a():void 0});return Object(c.jsx)(G.a,{appear:!1,direction:"down",in:!n,children:t})}function T(e){return Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)(M.a,{}),Object(c.jsx)(L,Object(j.a)(Object(j.a)({},e),{},{children:Object(c.jsx)(C.a,{children:Object(c.jsx)(E.a,{children:Object(c.jsx)(g.a,{variant:"h6",children:"Covid Simulator"})})})})),Object(c.jsx)(E.a,{})]})}var B=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)(T,{}),Object(c.jsx)(_,{})]})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),V()}},[[47,1,2]]]);
//# sourceMappingURL=main.cc5adb8d.chunk.js.map