(this["webpackJsonpcovid-simulator"]=this["webpackJsonpcovid-simulator"]||[]).push([[0],{50:function(t,e,a){},51:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var c=a(2),n=a(0),s=a.n(n),i=a(13),r=a.n(i),l=(a(50),a(17)),o=(a(51),a(9)),d=a(90),j=a(94),b=a(40),u=a(3),O=a(37),f=a.n(O),x=function(t){var e=Object(n.useRef)(null),a=t.config,s=Object(u.a)(t,["config"]),i=Object(n.useState)(),r=Object(o.a)(i,2),d=r[0],j=r[1];return Object(n.useEffect)((function(){d&&d.update({duration:500,lazy:!0})}),[a]),Object(n.useEffect)((function(){var t=e.current;j(new f.a(t,a))}),[]),Object(c.jsx)("canvas",Object(l.a)({ref:e},s))},h=a(93),p=a(61),g=a(92),m=a(102),v=Object(d.a)((function(t){return{root:{width:300},margin:{height:t.spacing(3)},control:{padding:t.spacing(2)}}})),y=[{value:.1,label:"0.1"},{value:1,label:"1.0"},{value:2,label:"2.0"},{value:3,label:"3.0"}];function w(t){return"R0=".concat(t)}var k=function(t){v();var e=t.setR0;Object(u.a)(t,["setR0"]);return Object(c.jsx)(b.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(g.a,{id:"discrete-slider-always",gutterBottom:!0,children:"R0"}),Object(c.jsx)(m.a,{min:.1,max:3,defaultValue:3,getAriaValueText:w,"aria-labelledby":"discrete-slider-always",step:.1,marks:y,onChange:function(t,a){e(a)},valueLabelDisplay:"on"})]})})},S=function(){return new Worker(a.p+"static/js/GameWorker.7e7c5c58.worker.js")};var R=function(t,e){var a=this;a.animationFrameId=0,a.start=function(){var c=0,n=Date.now(),s=n;return function i(){var r=Date.now(),l=r-s;l>=1e3/t&&(c++,e&&e({elapsed:r-n,frameId:c}),s=r-l%(1e3/t)),a.animationFrameId=window.requestAnimationFrame(i)}(),a},a.stop=function(){console.log(a.animationFrameId),window.cancelAnimationFrame(a.animationFrameId)}};function A(t,e){return{type:"line",data:{datasets:[{label:"Filled",data:[],fill:!0,pointRadius:[]}]},options:{legend:{display:!1},title:{display:!0,text:t},scales:{xAxes:[{display:!0,type:"time"}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:e}}]}}}}var D=A("Infected","cases");D.options.scales.yAxes[0].ticks={callback:function(t,e,a){return t>=1e6?t/1e6+"M":t>=1e3?t/1e3+"K":t},min:0},D.data.datasets[0].lineTension=0;var F=A("Hospital Capacity","%");F.options.scales.yAxes[0].ticks={min:0,max:200};var I=A("GDP","%");I.options.scales.yAxes[0].ticks={min:-20,max:0};var _=A("R0","ratio");_.options.scales.yAxes[0].ticks={min:0,max:4};var C={hospital_cfg:F,infected_cfg:D,gdp_cfg:I,r0_cfg:_,pareto_cfg:{type:"scatter",data:{datasets:[{borderColor:"#b30000",backgroundColor:"#ff3333",data:[{x:1,y:0}]},{data:[{x:5e4,y:-8}]}]},options:{legend:{display:!1},title:{display:!0,text:"Pareto"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Death"},ticks:{min:1,max:1e7,stepSize:10,autoSkip:!1,callback:function(t,e,a){return 1e7===t?"10M":1e6===t?"1M":1e5===t?"100K":1e4===t?"10K":1e3===t?"1K":100===t?"100":10===t?"10":0===t?"0":null}},type:"logarithmic"}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"GDP"},ticks:{min:-20,max:0}}]}}}},M=a(95),P=a(100),B=a(31),G=a.n(B),L=a(32),E=a.n(L),T=a(19),z=Object(d.a)({root:{maxWidth:400,flexGrow:1}}),K=function(t){var e=Object(n.useState)(0),a=Object(o.a)(e,2),i=a[0],r=a[1],d=Object(n.useState)(0),u=Object(o.a)(d,2),O=u[0],f=u[1],g=Object(n.useState)(3),m=Object(o.a)(g,2),v=m[0],y=m[1],w=Object(n.useState)(),A=Object(o.a)(w,2),D=A[0],F=A[1],I=Object(n.useState)(0),_=Object(o.a)(I,2),B=_[0],L=_[1];function K(t,e,a){var c=Object(l.a)({},t);c.data.datasets[0].data.push(a),c.data.datasets[0].pointRadius.push(2);var n=c.data.datasets[0].pointRadius.length;n>=3&&(c.data.datasets[0].pointRadius[n-2]=0),e(c)}var W=Object(n.useState)(C.infected_cfg),N=Object(o.a)(W,2),H=N[0],J=N[1],V=Object(n.useState)(C.gdp_cfg),q=Object(o.a)(V,2),Q=q[0],U=q[1],X=Object(n.useState)(C.r0_cfg),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1],tt=Object(n.useState)(C.pareto_cfg),et=Object(o.a)(tt,2),at=et[0],ct=et[1],nt=Object(n.useState)(C.hospital_cfg),st=Object(o.a)(nt,2),it=st[0],rt=st[1];Object(n.useEffect)((function(){var t=new S;return F(t),t.onmessage=function(t){var e=t.data.t,a=t.data.I,c=t.data.GDP,n=t.data.R0,s=t.data.H;r(Math.floor(t.data.D)),L(100*t.data.progress),f(c),K(H,J,{t:e,y:a}),K(Q,U,{t:e,y:100*c}),K(Z,$,{t:e,y:n}),K(it,rt,{t:e,y:100*s}),function(t,e,a){var c=Object(l.a)({},t);c.data.datasets[0].data[0]=a,e(c)}(at,ct,{x:1+t.data.D,y:100*c})},new R(1,(function(e){t.postMessage("getdata")})).start().stop}),[]),Object(n.useEffect)((function(){D&&D.postMessage({R0:v,msg:"setR0"})}),[v]);z();var lt=Object(T.a)(),ot=s.a.useState(0),dt=Object(o.a)(ot,2),jt=dt[0],bt=dt[1];return Object(c.jsx)(h.a,{maxWidth:"sm",children:Object(c.jsxs)(j.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:3,children:[Object(c.jsx)(j.a,{item:!0,xs:12,children:Object(c.jsx)(b.a,{children:Object(c.jsxs)(j.a,{container:!0,justify:"center",spacing:2,alignItems:"stretch",children:[Object(c.jsx)(j.a,{item:!0,children:Object(c.jsxs)(b.a,{children:["GDP: ",Math.round(100*O,2),"%"]})}),Object(c.jsx)(j.a,{item:!0,children:Object(c.jsxs)(b.a,{children:["Death Toll: ",i]})})]})})}),Object(c.jsx)(j.a,{item:!0,children:Object(c.jsx)(b.a,{children:Object(c.jsx)(p.a,{variant:"determinate",value:B})})}),Object(c.jsx)(j.a,{item:!0,children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(M.a,{variant:"dots",steps:3,position:"static",activeStep:jt,nextButton:Object(c.jsxs)(P.a,{size:"small",onClick:function(){bt((function(t){return t+1}))},disabled:2===jt,children:["Next","rtl"===lt.direction?Object(c.jsx)(G.a,{}):Object(c.jsx)(E.a,{})]}),backButton:Object(c.jsxs)(P.a,{size:"small",onClick:function(){bt((function(t){return t-1}))},disabled:0===jt,children:["rtl"===lt.direction?Object(c.jsx)(E.a,{}):Object(c.jsx)(G.a,{}),"Back"]})}),0===jt&&Object(c.jsx)(x,{config:at,width:100,height:50}),1===jt&&Object(c.jsx)(x,{config:H,width:100,height:50}),2===jt&&Object(c.jsx)(x,{config:it,width:100,height:50})]})}),Object(c.jsx)(j.a,{item:!0,children:Object(c.jsx)(b.a,{children:Object(c.jsx)(x,{config:Q,width:100,height:50})})}),Object(c.jsx)(j.a,{item:!0,children:Object(c.jsx)(b.a,{children:Object(c.jsx)(x,{config:Z,width:100,height:30})})}),Object(c.jsx)(j.a,{item:!0,children:Object(c.jsx)(k,{setR0:y})})]})})};a(98),a(99),a(97),a(96),a(101);var W=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)(K,{})})})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,103)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),c(t),n(t),s(t),i(t)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(W,{})}),document.getElementById("root")),N()}},[[59,1,2]]]);
//# sourceMappingURL=main.1ebc3c8a.chunk.js.map