(this["webpackJsonpcovid-simulator"]=this["webpackJsonpcovid-simulator"]||[]).push([[0],{56:function(t,e,a){},57:function(t,e,a){},65:function(t,e,a){"use strict";a.r(e);var n=a(3),c=a(0),s=a.n(c),i=a(14),r=a.n(i),l=(a(56),a(19)),o=(a(57),a(10)),d=a(101),j=a(107),u=a(46),b=a(2),O=a(43),f=a.n(O),p=function(t){var e=Object(c.useRef)(null),a=t.config,s=Object(b.a)(t,["config"]),i=Object(c.useState)(),r=Object(o.a)(i,2),d=r[0],j=r[1];return Object(c.useEffect)((function(){d&&d.update({duration:500,lazy:!0})}),[a]),Object(c.useEffect)((function(){var t=e.current;j(new f.a(t,a))}),[]),Object(n.jsx)("canvas",Object(l.a)({ref:e},s))},x=a(106),h=a(66),m=a(103),g=a(114),v=Object(d.a)((function(t){return{root:{width:300},margin:{height:t.spacing(3)},control:{padding:t.spacing(2)}}})),y=[{value:.1,label:"0.1"},{value:1,label:"1.0"},{value:2,label:"2.0"},{value:3,label:"3.0"}];function S(t){return"R0=".concat(t)}var k=function(t){v();var e=t.setR0;Object(b.a)(t,["setR0"]);return Object(n.jsx)(u.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(m.a,{id:"discrete-slider-always",gutterBottom:!0,children:"R0"}),Object(n.jsx)(g.a,{min:.1,max:3,defaultValue:3,getAriaValueText:S,"aria-labelledby":"discrete-slider-always",step:.1,marks:y,onChange:function(t,a){e(a)},valueLabelDisplay:"on"})]})})},w=function(){return new Worker(a.p+"static/js/GameWorker.370545f5.worker.js")};var R=function(t,e){var a=this;a.animationFrameId=0,a.start=function(){var n=0,c=Date.now(),s=c;return function i(){var r=Date.now(),l=r-s;l>=1e3/t&&(n++,e&&e({elapsed:r-c,frameId:n}),s=r-l%(1e3/t)),a.animationFrameId=window.requestAnimationFrame(i)}(),a},a.stop=function(){console.log(a.animationFrameId),window.cancelAnimationFrame(a.animationFrameId)}};function A(t,e){return{type:"line",data:{datasets:[{label:"Filled",data:[],fill:!0,pointRadius:[]}]},options:{legend:{display:!1},title:{display:!0,text:t},scales:{xAxes:[{display:!0,type:"time"}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:e}}]}}}}var D=A("Infected","cases");D.options.scales.yAxes[0].ticks={callback:function(t,e,a){return t>=1e6?t/1e6+"M":t>=1e3?t/1e3+"K":t},min:0},D.data.datasets[0].lineTension=0;var C=A("Hospital Capacity","%");C.options.scales.yAxes[0].ticks={min:0,max:200};var F=A("GDP","%");F.options.scales.yAxes[0].ticks={min:-20,max:0};var I=A("R0","ratio");I.options.scales.yAxes[0].ticks={min:0,max:4};var _={hospital_cfg:C,infected_cfg:D,gdp_cfg:F,r0_cfg:I,pareto_cfg:{type:"scatter",data:{datasets:[{borderColor:"#b30000",backgroundColor:"#ff3333",data:[{x:1,y:0}]},{data:[{x:5e4,y:-8}]}]},options:{legend:{display:!1},title:{display:!0,text:"Pareto"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Death"},ticks:{min:1,max:1e7,stepSize:10,autoSkip:!1,callback:function(t,e,a){return 1e7===t?"10M":1e6===t?"1M":1e5===t?"100K":1e4===t?"10K":1e3===t?"1K":100===t?"100":10===t?"10":0===t?"0":null}},type:"logarithmic"}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"GDP"},ticks:{min:-20,max:0}}]}}}},M=a(104),P=a(105),E=a(35),T=a.n(E),B=a(36),G=a.n(B),L=a(18),z=a(113),K=a(112),N=Object(d.a)({root:{maxWidth:400,flexGrow:1}}),W=function(t){var e=Object(c.useState)(0),a=Object(o.a)(e,2),i=a[0],r=a[1],d=Object(c.useState)(0),b=Object(o.a)(d,2),O=b[0],f=b[1],m=Object(c.useState)(3),g=Object(o.a)(m,2),v=g[0],y=g[1],S=Object(c.useState)(),A=Object(o.a)(S,2),D=A[0],C=A[1],F=Object(c.useState)(0),I=Object(o.a)(F,2),E=I[0],B=I[1];function W(t,e,a){var n=Object(l.a)({},t);n.data.datasets[0].data.push(a),n.data.datasets[0].pointRadius.push(2);var c=n.data.datasets[0].pointRadius.length;c>=3&&(n.data.datasets[0].pointRadius[c-2]=0),e(n)}var q=Object(c.useState)(_.infected_cfg),H=Object(o.a)(q,2),J=H[0],V=H[1],Q=Object(c.useState)(_.gdp_cfg),U=Object(o.a)(Q,2),X=U[0],Y=U[1],Z=Object(c.useState)(_.r0_cfg),$=Object(o.a)(Z,2),tt=$[0],et=$[1],at=Object(c.useState)(_.pareto_cfg),nt=Object(o.a)(at,2),ct=nt[0],st=nt[1],it=Object(c.useState)(_.hospital_cfg),rt=Object(o.a)(it,2),lt=rt[0],ot=rt[1],dt=Object(c.useState)(""),jt=Object(o.a)(dt,2),ut=jt[0],bt=jt[1],Ot=Object(c.useState)("success"),ft=Object(o.a)(Ot,2),pt=ft[0],xt=ft[1],ht=s.a.useState(!1),mt=Object(o.a)(ht,2),gt=mt[0],vt=mt[1];Object(c.useEffect)((function(){var t=new w;return C(t),t.onmessage=function(t){if("data"==t.data.type){var e=t.data.t,a=t.data.I,n=t.data.GDP,c=t.data.R0,s=t.data.H;r(Math.floor(t.data.D)),B(100*t.data.progress),f(n),W(J,V,{t:e,y:a}),W(X,Y,{t:e,y:100*n}),W(tt,et,{t:e,y:c}),W(lt,ot,{t:e,y:100*s}),function(t,e,a){var n=Object(l.a)({},t);n.data.datasets[0].data[0]=a,e(n)}(ct,st,{x:1+t.data.D,y:100*n})}else"quote"==t.data.type&&(bt(t.data.quote),xt(t.data.severity),vt(!0))},new R(1,(function(e){t.postMessage("getdata")})).start().stop}),[]),Object(c.useEffect)((function(){D&&D.postMessage({R0:v,msg:"setR0"})}),[v]);N();var yt=Object(L.a)(),St=[ct,J,lt,X,tt].map((function(t,e){return Object(n.jsx)(p,{config:t,width:100,height:50},e)}));function kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=s.a.useState(e),c=Object(o.a)(a,2),i=c[0],r=c[1],l=function(){r((function(t){return t+1}))},d=function(){r((function(t){return t-1}))};return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(M.a,{variant:"dots",steps:t.length,position:"static",activeStep:i,nextButton:Object(n.jsxs)(P.a,{size:"small",onClick:l,disabled:i===t.length-1,children:["Next","rtl"===yt.direction?Object(n.jsx)(T.a,{}):Object(n.jsx)(G.a,{})]}),backButton:Object(n.jsxs)(P.a,{size:"small",onClick:d,disabled:0===i,children:["rtl"===yt.direction?Object(n.jsx)(G.a,{}):Object(n.jsx)(T.a,{}),"Back"]})}),t.map((function(t,e){return i===e&&t}))]})}return Object(n.jsx)(x.a,{maxWidth:"sm",children:Object(n.jsxs)(j.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:3,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(j.a,{container:!0,justify:"center",spacing:2,alignItems:"stretch",children:[Object(n.jsx)(j.a,{item:!0,children:Object(n.jsxs)(u.a,{children:["GDP: ",Math.round(100*O,2),"%"]})}),Object(n.jsx)(j.a,{item:!0,children:Object(n.jsxs)(u.a,{children:["Death Toll: ",i]})})]})})}),Object(n.jsx)(z.a,{open:gt,autoHideDuration:4e3,onClose:function(t,e){"clickaway"!==e&&vt(!1)},anchorOrigin:{vertical:"TOP",horizontal:"CENTER"},children:Object(n.jsx)(K.a,{severity:pt,elevation:6,variant:"filled",children:ut})}),Object(n.jsx)(j.a,{item:!0,children:Object(n.jsx)(u.a,{children:Object(n.jsx)(h.a,{variant:"determinate",value:E})})}),Object(n.jsx)(j.a,{item:!0,children:kt(St,1)}),Object(n.jsx)(j.a,{item:!0,children:kt(St,3)}),Object(n.jsx)(j.a,{item:!0,children:Object(n.jsx)(k,{setR0:y})})]})})};a(110),a(111),a(109),a(108),a(115);var q=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(W,{})})})},H=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,117)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),n(t),c(t),s(t),i(t)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(q,{})}),document.getElementById("root")),H()}},[[65,1,2]]]);
//# sourceMappingURL=main.28dba7cf.chunk.js.map